import axios from 'axios'
{{#each components}}
import {{@key}} from '../interfaces/{{@key}}.ts';
{{/each}}

{{#if description}}
/**
  {{description}}
 */

{{/if}}
const SERVERS = [
{{#servers}}
  '{{{url}}}',
{{/servers}}
]

{{#paths}}
{{#methods}}
export const {{#if operationId}}{{{operationId}}}{{else}}operation{{@index}}{{/if}} = async ({{#parameters}}{{name}}: {{getType type}}, {{/parameters}}{{#with requestBody.content.[application/json]}}body: {{{getType this.type}}}{{/with}}){{#responses}}{{#with content.[application/json]}}: {{getType type}}{{/with}}{{/responses}} => {
  return await axios.{{methodName}}(`${SERVERS[0]}{{{../route}}}`{{#requestBody}}, body{{/requestBody}})
}
{{/methods}}

{{/paths}}
